

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; DMFTwDFT 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="DMFTwDFT documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> DMFTwDFT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiling-sources">Compiling sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compiling-library-mode">Compiling library mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#external-libraries-and-executables">External libraries and executables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wannier90-library">Wannier90 library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#path-variables">PATH variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="cite.html">How to cite</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DMFTwDFT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>DMFTwDFT is currently supported by Python 2.x. It will be transitioned to Python 3.x in the future.
The Python 2.x version does not support ionic relaxation, therefore use an already relaxed structure as input.</p>
<p>Please install the following dependencies prior to installing DMFTwDFT.</p>
<ul class="simple">
<li><p>matplotlib</p></li>
<li><p>numpy</p></li>
<li><p>scipy</p></li>
<li><p>weave</p></li>
<li><p>mpi4py</p></li>
</ul>
<p>The structure of the directories is as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DMFTwDFT
        ├── bin
        ├── docs
        ├── examples
        ├── reference
        ├── scripts
        ├── sphinx
        └── sources
                ├── src
                ├── dmft_ksum
                ├── fort_kpt_tools
                └── CSC-mods
</pre></div>
</div>
<p>The following section describes the procedure to compile the different componenets required to run DMFTwDFT. Once the executables and libraries have been compiled, they should be inside the <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory.</p>
<div class="section" id="compiling-sources">
<h2>Compiling sources<a class="headerlink" href="#compiling-sources" title="Permalink to this headline">¶</a></h2>
<p>From the <code class="docutils literal notranslate"><span class="pre">sources</span></code> directory execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="nb">all</span>
</pre></div>
</div>
<p>This should compile the follwing executables and libraries and copy them to the <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory.</p>
<ul class="simple">
<li><p>dmft.x - This module is for achieving DMFT self-consistency. It performs the <span class="math notranslate nohighlight">\(k\)</span>-point sum and and computes the local Green’s function (G_loc.out) and hybridization function (Delta.inp).</p></li>
<li><p>dmft_dos.x - Performs DOS calculation.</p></li>
<li><p>dmft_ksum_band - Performs band structure calculation.</p></li>
<li><p>dmft_ksum_partial_band - Performs projected band structure calculation.</p></li>
<li><p>fort_kpt_tools.so - Fortran based k-points tool.</p></li>
</ul>
</div>
<div class="section" id="compiling-library-mode">
<h2>Compiling library mode<a class="headerlink" href="#compiling-library-mode" title="Permalink to this headline">¶</a></h2>
<p>The above compilation also generates <code class="docutils literal notranslate"><span class="pre">libdmft.a</span></code> which can be used to link DMFTwDFT to DFT codes to enable full charge self-consistent DFT+DMFT calculations. In the case of VASP, add the location of this file to <code class="docutils literal notranslate"><span class="pre">LLIBS</span></code> in VASP’s makefile.include. The modified VASP files are in the <code class="docutils literal notranslate"><span class="pre">sources/CSC-mods</span></code> directory. Copy these to the VASP source directory and recompile VASP.</p>
</div>
<div class="section" id="external-libraries-and-executables">
<h2>External libraries and executables<a class="headerlink" href="#external-libraries-and-executables" title="Permalink to this headline">¶</a></h2>
<p>DMFTwDFT uses the CTQMC impurity solver and Max-entropy routines developed by Kristjan Haule at Rutgers University and are available in the eDMFT package.
Follow the provided instructions on the <a class="reference external" href="http://hauleweb.rutgers.edu/tutorials/index.html">web page</a> to download and compile it.</p>
<p>Once compiled copy the following executables and libraries to the DMFTwDFT <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory.</p>
<ul class="simple">
<li><p>ctqmc</p></li>
<li><p>gaunt.so</p></li>
<li><p>gutils.so</p></li>
<li><p>skrams</p></li>
<li><p>maxent_routines.so</p></li>
</ul>
<p>If the automated compilation is successful, these are found in the eDMFT <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory. Otherwise compile them manually inside the <code class="docutils literal notranslate"><span class="pre">src/impurity</span></code> directories. gaunt.so and gutils.so are inside the</p>
</div>
<div class="section" id="wannier90-library">
<h2>Wannier90 library<a class="headerlink" href="#wannier90-library" title="Permalink to this headline">¶</a></h2>
<p>DMFTwDFT requires <code class="docutils literal notranslate"><span class="pre">wannier90.x</span></code> and <code class="docutils literal notranslate"><span class="pre">w90chk2chk.x</span></code> to be in the <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory. You can get them from <a class="reference external" href="http://www.wannier.org/">http://www.wannier.org/</a>. VASP should be recompiled with the Wannier90 library.</p>
</div>
<div class="section" id="path-variables">
<h2>PATH variables<a class="headerlink" href="#path-variables" title="Permalink to this headline">¶</a></h2>
<p>Finally, the location of the DMFTwDFT <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory should be added to the <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> and <code class="docutils literal notranslate"><span class="pre">$PYTHONPATH</span></code> environmental variables in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="DMFTwDFT documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Uthpala Herath

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>